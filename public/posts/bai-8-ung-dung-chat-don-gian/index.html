<!DOCTYPE html>
<html lang="en">
<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Socket Programming: Xây Dựng Ứng Dụng Chat Đa Người Dùng - VÕ PHÚC NGUYÊN | Portfolio</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700;900&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="/css/style.css">
</head>
<body>

    <header class="luxury-header">
        <nav class="luxury-nav">
            <div class="luxury-logo">
                <a href="http://localhost:1313/">VÕ PHÚC NGUYÊN</a>
            </div>
            <ul class="luxury-menu">
                <li>
                    <a href="http://localhost:1313/" 
                       class="">TRANG CHỦ</a>
                </li>
                
                <li>
                    <a href="http://localhost:1313/about" 
                       class="">GIỚI THIỆU</a>
                </li>

                <li>
                    <a href="http://localhost:1313/posts" 
                       class="active">BLOG</a>
                </li>

                <li>
                    <a href="http://localhost:1313/contact" 
                       class="">LIÊN HỆ</a>
                </li>
            </ul>
        </nav>
    </header>
    <main>
<div class="article-wrapper">
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,300;0,600;1,300&family=Inter:wght@300;400;600&display=swap" rel="stylesheet">

    <article class="main-article">
        <header class="article-header">
            <p class="article-meta">17 JANUARY 2025 — </p>
            <h1 class="article-title">Socket Programming: Xây Dựng Ứng Dụng Chat Đa Người Dùng</h1>
        </header>
        
        <div class="article-content">
            <p><img alt="Chat App Concept" loading="lazy" src="https://images.unsplash.com/photo-1611746872915-64382b5c76da?auto=format&fit=crop&q=80&w=1470">
<em>Socket là nhịp cầu nối liền khoảng cách giữa các tiến trình trong mạng máy tính.</em></p>
<hr>
<h2 id="1-socket---điểm-cuối-của-sự-giao-tiếp">1. Socket - Điểm Cuối Của Sự Giao Tiếp</h2>
<p>Trong lập trình mạng, <strong>Socket</strong> được hiểu là một điểm cuối (endpoint) của một liên kết giao tiếp hai chiều giữa hai chương trình đang chạy trên mạng. Để một ứng dụng Chat hoạt động, chúng ta cần sự phối hợp nhịp nhàng giữa hai thành phần:</p>
<ul>
<li><strong>ServerSocket (Phía Server):</strong> Đóng vai trò như một tổng đài viên, luôn ở trạng thái &ldquo;lắng nghe&rdquo; các yêu cầu kết nối từ phía khách hàng.</li>
<li><strong>Socket (Phía Client):</strong> Đóng vai trò như người gọi điện, chủ động thiết lập kết nối tới địa chỉ IP và Port của Server.</li>
</ul>
<h2 id="2-luồng-dữ-liệu-inputstream-và-outputstream">2. Luồng Dữ Liệu: InputStream và OutputStream</h2>
<p>Khi kết nối đã được thiết lập, dữ liệu không tự nhiên di chuyển. Chúng ta cần sử dụng các &ldquo;đường ống&rdquo; dẫn dữ liệu:</p>
<ul>
<li><strong>OutputStream:</strong> Để đẩy dữ liệu đi (gửi tin nhắn).</li>
<li><strong>InputStream:</strong> Để nhận dữ liệu về (đọc tin nhắn).</li>
</ul>
<p>Để việc đọc/ghi dữ liệu hiệu quả hơn, mình sử dụng thêm <code>BufferedReader</code> và <code>PrintWriter</code> để xử lý văn bản theo từng dòng, tránh việc dữ liệu bị đứt quãng.</p>
<h2 id="3-hiện-thực-hóa-mã-nguồn-demo-server">3. Hiện Thực Hóa Mã Nguồn (Demo Server)</h2>
<p>Dưới đây là đoạn mã cốt lõi để khởi tạo một Server đơn giản, có khả năng nhận tin nhắn và phản hồi lại cho Client:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#f92672">import</span> java.io.*;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.net.*;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">SimpleServer</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span>(String<span style="color:#f92672">[]</span> args) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">try</span> (ServerSocket serverSocket <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> ServerSocket(5000)) {
</span></span><span style="display:flex;"><span>            System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;Server đang đợi kết nối tại cổng 5000...&#34;</span>);
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>            Socket socket <span style="color:#f92672">=</span> serverSocket.<span style="color:#a6e22e">accept</span>(); <span style="color:#75715e">// Chấp nhận kết nối</span>
</span></span><span style="display:flex;"><span>            System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;Client đã kết nối thành công!&#34;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">// Thiết lập luồng vào/ra</span>
</span></span><span style="display:flex;"><span>            BufferedReader input <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> BufferedReader(<span style="color:#66d9ef">new</span> InputStreamReader(socket.<span style="color:#a6e22e">getInputStream</span>()));
</span></span><span style="display:flex;"><span>            PrintWriter output <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> PrintWriter(socket.<span style="color:#a6e22e">getOutputStream</span>(), <span style="color:#66d9ef">true</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            String message <span style="color:#f92672">=</span> input.<span style="color:#a6e22e">readLine</span>();
</span></span><span style="display:flex;"><span>            System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;Client gửi: &#34;</span> <span style="color:#f92672">+</span> message);
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>            output.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;Server đã nhận được tin: &#34;</span> <span style="color:#f92672">+</span> message);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        } <span style="color:#66d9ef">catch</span> (IOException e) {
</span></span><span style="display:flex;"><span>            System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;Lỗi Server: &#34;</span> <span style="color:#f92672">+</span> e.<span style="color:#a6e22e">getMessage</span>());
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div>  
        </div>

        <div class="post-navigation">
            
            <a class="nav-btn prev" href="http://localhost:1313/posts/bai-7-lap-trinh-mang-voi-java/">
                <span class="nav-label">← BÀI TRƯỚC</span>
            </a>
            

            
            <a class="nav-btn next" href="http://localhost:1313/posts/bai-9-tong-ket-hoc-phan/">
                <span class="nav-label">BÀI TIẾP THEO →</span>
            </a>
            
        </div>
    </article>
</div>

<style>
     
    .article-wrapper { 
        margin-top: 140px; 
        display: flex; 
        justify-content: center; 
        padding-bottom: 100px; 
        background: #fdfdfd;
    }

    .main-article { 
        max-width: 750px;  
        width: 90%; 
    }

    .article-header { text-align: center; margin-bottom: 60px; }

    .article-meta { 
        font-family: 'Inter', sans-serif;
        color: #999; 
        font-size: 11px; 
        letter-spacing: 3px; 
        text-transform: uppercase; 
        margin-bottom: 20px; 
    }

    .article-title { 
        font-family: 'Cormorant Garamond', serif !important;
        font-size: 55px;  
        font-weight: 300; 
        line-height: 1.1; 
        color: #111;
        text-transform: uppercase;
    }

    .article-content { 
        font-family: 'Inter', sans-serif; 
        font-size: 18px;  
        line-height: 1.8; 
        color: #333; 
        font-weight: 300;
        text-align: justify; 
    }

    .article-content h2 { 
        font-family: 'Cormorant Garamond', serif; 
        font-size: 32px; 
        font-weight: 600;
        margin-top: 50px; 
        color: #000;
        border-bottom: 1px solid #eee;
        padding-bottom: 10px;
    }

    .article-content blockquote {
        font-family: 'Cormorant Garamond', serif;
        font-style: italic;
        font-size: 24px;
        border-left: 2px solid #000;
        padding-left: 30px;
        margin: 40px 0;
        color: #555;
    }

    .article-content pre { 
        background: #f9f9f9; 
        padding: 25px; 
        border-radius: 0; 
        overflow-x: auto; 
        font-size: 14px; 
        border: 1px solid #eee; 
        margin: 30px 0;
    }

    .article-content img { 
        max-width: 100%; 
        height: auto; 
        display: block; 
        margin: 40px auto; 
        filter: grayscale(100%);
        transition: 0.8s;
    }
    
    .article-content img:hover { filter: grayscale(0%); }

     
    .post-navigation {
        margin-top: 80px;
        padding-top: 40px;
        border-top: 1px solid #eee;
        display: flex;
        justify-content: space-between;
    }

    .nav-label {
        font-family: 'Inter', sans-serif;
        font-size: 11px;
        font-weight: 600;
        letter-spacing: 2px;
        color: #000;
        text-decoration: none;
        border-bottom: 1px solid #000;
        padding-bottom: 5px;
    }
</style>

    </main>

</body>
</html>